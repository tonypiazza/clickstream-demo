# ==============================================================================
# Clickstream Pipeline - Local Development Configuration
# ==============================================================================
# Use this configuration with local Docker Compose infrastructure.
#
# Setup:
#   1. docker-compose up -d
#   2. cp .env.local.example .env
#   3. clickstream consumer start
#   4. clickstream producer start --limit 10000
# ==============================================================================

# ==============================================================================
# Producer Implementation
# ==============================================================================
# Options: confluent (default, fastest), kafka_python, quix
# - confluent: Uses librdkafka C library (recommended for performance)
# - kafka_python: Pure Python implementation
# - quix: Uses Quix Streams (requires: pip install -e ".[quix]")
PRODUCER_IMPL=confluent

# ==============================================================================
# Consumer Implementation
# ==============================================================================
# Options: confluent (default, fastest), kafka_python, quix, mage, bytewax
# - confluent: Uses librdkafka C library (recommended for performance)
# - kafka_python: Pure Python implementation
# - quix: Uses Quix Streams (requires: pip install -e ".[quix]")
# - mage: Uses Mage AI (requires: pip install -e ".[mage]")
# - bytewax: Uses Bytewax (requires: pip install -e ".[bytewax]")
CONSUMER_IMPL=confluent

# ==============================================================================
# Kafka Settings (Local)
# ==============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_EVENTS_TOPIC=clickstream-events
KAFKA_EVENTS_TOPIC_PARTITIONS=3

# ==============================================================================
# PostgreSQL Settings (Local)
# ==============================================================================
PG_HOST=localhost
PG_PORT=5432
PG_USER=postgres
PG_PASSWORD=postgres
PG_DATABASE=clickstream
PG_SCHEMA_NAME=clickstream
PG_SSLMODE=disable

# ==============================================================================
# OpenSearch Settings (Local) - Optional
# ==============================================================================
OPENSEARCH_ENABLED=false
OPENSEARCH_HOST=localhost
OPENSEARCH_PORT=9200
OPENSEARCH_USER=admin
OPENSEARCH_PASSWORD=OpenSearch123!
OPENSEARCH_USE_SSL=true
OPENSEARCH_VERIFY_CERTS=false
OPENSEARCH_EVENTS_INDEX=clickstream-events
OPENSEARCH_CONSUMER_GROUP_ID=clickstream-opensearch

# ==============================================================================
# Valkey Settings (Local - Redis-compatible)
# ==============================================================================
VALKEY_HOST=localhost
VALKEY_PORT=6379
VALKEY_PASSWORD=
VALKEY_SSL=false
VALKEY_SESSION_TTL_HOURS=24

# ==============================================================================
# Producer Settings
# ==============================================================================
PRODUCER_DATA_FILE=data/events.csv

# ==============================================================================
# PostgreSQL Consumer Settings
# ==============================================================================
POSTGRESQL_CONSUMER_GROUP_ID=clickstream-postgresql
POSTGRESQL_CONSUMER_SESSION_TIMEOUT_MINUTES=30
